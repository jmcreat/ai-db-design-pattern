# 인사 관리 시스템 (HR System)

## 📊 핵심 개념

```
Tier 0 (최고 핵심):
├─ employees (직원) ⭐⭐⭐
└─ departments (부서) ⭐⭐

Tier 1 (메인):
├─ positions (직급/직책)
└─ salaries (급여 이력)

Tier 2 (지원):
├─ attendance (근태)
├─ leaves (휴가)
├─ performance_reviews (성과평가)
└─ employee_documents (문서)
```

## 🎯 설계 원칙

### 1. 이력 관리 중요 📝
- 급여 변경 이력
- 부서 이동 이력
- 직책 변경 이력
- 모두 별도 테이블로 관리

### 2. Soft Delete 사용 ⚠️
- 퇴사자 데이터 보존
- deleted_at으로 관리
- 통계/분석용 데이터 유지

### 3. 개인정보 보호 🔒
- 민감 정보 암호화
- 접근 권한 관리
- 감사 로그 필수

---

## 🔑 주요 테이블 설명

### employees (직원)
- 직원 기본 정보
- 입사일, 재직 상태
- Soft delete 사용

### departments (부서)
- 부서 정보
- 계층 구조 (parent_id)
- 부서장 정보

### employee_departments (직원-부서 이력)
- N:M 관계 처리
- 부서 이동 이력 추적
- 발령일/해제일 관리

### positions (직급/직책)
- 직급 체계
- 급여 범위 정보

### salaries (급여 이력)
- 급여 변경 이력
- 시점별 추적
- 집계/통계용

### attendance (근태)
- 출퇴근 기록
- 지각/조퇴/외출

### leaves (휴가)
- 연차, 병가, 특별휴가
- 잔여 일수 관리

### performance_reviews (성과평가)
- 정기 평가
- 평가 항목별 점수

---

## 🚨 주의사항

1. **개인정보 암호화**
   - 주민번호, 계좌번호 등
   - AES-256 암호화 권장

2. **이력 보존**
   - 급여/부서/직책 변경은 INSERT만
   - UPDATE 최소화

3. **Soft Delete**
   - 퇴사자도 deleted_at으로 관리
   - 실제 DELETE 금지

4. **감사 로그**
   - 모든 변경 사항 기록
   - created_at, created_by 필수

---

## 💡 특징

### 일반 서비스 vs 인사 시스템

| 항목 | 일반 서비스 | 인사 시스템 |
|------|------------|------------|
| 삭제 | 가능 | Soft Delete만 |
| 이력 | 선택적 | **필수** (급여, 부서 등) |
| 개인정보 | 일반 | **암호화 필수** |
| 접근 제어 | 기본 | **엄격한 권한 관리** |
| 법적 보존 | 선택 | **의무** (근로기준법) |

---

## 📋 주요 기능

### 1. 직원 관리
- 입사/퇴사 처리
- 기본 정보 관리
- 재직 상태 추적

### 2. 조직도
- 부서 계층 구조
- 부서별 인원
- 부서장 관리

### 3. 급여 관리
- 급여 이력 추적
- 인상/인하 기록
- 통계 및 집계

### 4. 근태 관리
- 출퇴근 기록
- 휴가 관리
- 초과근무 계산

### 5. 평가 관리
- 정기 평가
- 평가 이력
- 승진 자료

---

## 🔗 관련 테이블 관계

```
employees (직원) ⭐
    ↓ 1:N
├─ employee_departments → departments (부서)
├─ salaries (급여 이력)
├─ attendance (근태)
├─ leaves (휴가)
└─ performance_reviews (평가)

departments (부서) ⭐
    ↓ self-reference
departments (상위 부서)
```

---

## 📊 통계 쿼리 예시

- 부서별 인원 수
- 평균 재직 기간
- 급여 통계
- 휴가 사용률
- 퇴사율

---

## 🎓 법적 요구사항

### 근로기준법
- 근로 계약서 보관 (3년)
- 임금대장 보관 (3년)
- 근로자명부 보관 (3년)

### 개인정보보호법
- 민감정보 암호화
- 접근 로그 기록
- 보유 기간 명시

---

**이 설계는 중소기업 인사 관리 시스템을 기준으로 작성되었습니다.**

